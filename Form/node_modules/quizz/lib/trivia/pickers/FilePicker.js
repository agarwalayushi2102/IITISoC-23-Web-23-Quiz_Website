"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fs = require("fs");
var path = require("path");
var Question_1 = require("../Question");
var ROOT_DIR = path.resolve(__dirname, '../../');
var FilePicker = /** @class */ (function () {
    function FilePicker(questionsFile) {
        this.ready = true;
        this.questions = this.loadQuestions(questionsFile);
    }
    FilePicker.prototype.pickQuestion = function () {
        var randomIndex = Math.floor(Math.random() * this.questions.length);
        var _question = this.questions[randomIndex];
        var _a = _question.split(' \\ '), question = _a[0], answer = _a[1];
        return Promise.resolve(new Question_1.Question(question, answer));
    };
    FilePicker.prototype.loadQuestions = function (filePath) {
        var _filePath = path.resolve(ROOT_DIR, filePath);
        var file = fs.readFileSync(_filePath);
        return file.toString().split('\n');
    };
    return FilePicker;
}());
exports.FilePicker = FilePicker;
